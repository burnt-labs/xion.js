# Integration Test Environment Configuration
# Single-file setup: Change TEST_TARGET to switch between local and deployed AA API

# ============================================================================
# TEST TARGET SELECTION
# ============================================================================
# Set to "local" or "deployed"
# - local: Uses local AA API (localhost:8787) connected to testnet blockchain
# - deployed: Uses deployed AA API (aa-api.xion-testnet-2.burnt.com)
TEST_TARGET=local

# ============================================================================
# TESTNET BLOCKCHAIN (same for both local and deployed)
# ============================================================================
XION_TESTNET_CHAIN_ID=xion-testnet-2
XION_TESTNET_RPC_URL=https://rpc.xion-testnet-2.burnt.com:443
XION_TESTNET_REST_URL=https://api.xion-testnet-2.burnt.com
XION_TESTNET_GAS_PRICE=0.001uxion
XION_TESTNET_ADDRESS_PREFIX=xion

# Smart Account Configuration (testnet)
XION_TESTNET_CODE_ID=1
XION_TESTNET_CHECKSUM=FC06F022C95172F54AD05BC07214F50572CDF684459EADD4F58A765524567DB8

# Treasury Contract Address
XION_TESTNET_TREASURY_ADDRESS=xion1sv6kdau6mvjlzkthdhpcl53e8zmhaltmgzz9jhxgkxhmpymla9gqrh0knw

# User Map Contract Address (for integration tests - requires no token balance)
XION_TESTNET_USER_MAP_CONTRACT=xion1q66h2ynmrm5je9awcdwcyxjykd6c0h4wf3u5ha4s5cntf8jr5jfqh8mwey

# Test Account Mnemonic
# WARNING: This mnemonic has test XION tokens. DO NOT use in production!
TEST_MNEMONIC=furnace hammer kite tent baby settle bonus decade draw never juice legend

# Grant amounts for testing (in uxion)
TEST_GRANT_AMOUNT=1000000
TEST_SEND_AMOUNT=10000

# ============================================================================
# AA API ENDPOINTS (selected by TEST_TARGET)
# ============================================================================

# Local AA API (localhost)
# Note: Local AA API connects to testnet blockchain, uses local fee granter
# Port 49929 is the dynamic port assigned by wrangler dev
XION_LOCAL_AA_API_URL=http://localhost:49929
XION_LOCAL_FEE_GRANTER=xion10y5pzqs0jn89zpm6va625v6xzsqjkm293efwq8

# Deployed AA API (testnet)
XION_DEPLOYED_AA_API_URL=https://aa-api.xion-testnet-2.burnt.com
XION_DEPLOYED_FEE_GRANTER=xion1xrqz2wpt4rw8rtdvrc4n4yn5h54jm0nn4evn2x
TEST_TARGET=deployed

# ============================================================================
# INDEXER CONFIGURATION (optional - for indexer strategy tests)
# ============================================================================
# These are provided via GitHub secrets in CI
# For local development, add them to .env.test.local (not committed)

# XION_TESTNET_INDEXER_URL=
# XION_TESTNET_TREASURY_INDEXER_URL=
# NUMIA_API_KEY=
# SUBQUERY_API_KEY=

# ============================================================================
# TEST TIMEOUTS
# ============================================================================
TEST_TIMEOUT=30000
INTEGRATION_TEST_TIMEOUT=120000
